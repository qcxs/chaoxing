在帮助同学签到时，常常发现不能在一台手机上多次签到，此处解决此问题

搜索字符串CLIENT_DEVICE_FLAG
![attachments/Pasted image 20251230161200.png](attachments\Pasted%20image%2020251230161200.png)
找包含此特征的方法，新增random方法

````
.method public static randomS()Ljava/lang/String;
    .registers 5

    .prologue
    .line 26
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    .line 27
    const-string v2, "0123456789abcdefghijklmnopqrstuvwxyz"

    .line 28
    new-instance v3, Ljava/util/Random;

    invoke-direct {v3}, Ljava/util/Random;-><init>()V

    .line 29
    const/4 v0, 0x0

    :goto_d
    const/16 v4, 0x10

    if-ge v0, v4, :cond_23

    .line 30
    invoke-virtual {v2}, Ljava/lang/String;->length()I

    move-result v4

    invoke-virtual {v3, v4}, Ljava/util/Random;->nextInt(I)I

    move-result v4

    .line 31
    invoke-virtual {v2, v4}, Ljava/lang/String;->charAt(I)C

    move-result v4

    invoke-virtual {v1, v4}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    .line 29
    add-int/lit8 v0, v0, 0x1

    goto :goto_d

    .line 33
    :cond_23
    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

````

复制当前类名
![attachments/Pasted image 20251230161428.png](attachments\Pasted%20image%2020251230161428.png)
方法添加调用

````
invoke-static {}, 当前类名->randomS()Ljava/lang/String;
````

参考代码
![attachments/Pasted image 20251230162003.png](attachments\Pasted%20image%2020251230162003.png)
![attachments/Pasted image 20251230161937.png](attachments\Pasted%20image%2020251230161937.png)

# 原理

详细需参考[学习通伪造位置签到](https://bbs.binmt.cc/thread-157986-1-1.html)，服务器通过比较deviceCode判断是否为同一设备签到，此处将获取的deviceCode改为随机值。
